// --- ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®é–‹é–‰æ©Ÿèƒ½ ---

// HTMLã‹ã‚‰ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ãƒœã‚¿ãƒ³è¦ç´ ã‚’å–å¾—ã—ã¾ã™ã€‚
const hamburger = document.getElementById('hamburger');
// HTMLã‹ã‚‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®è¦ç´ ã‚’å–å¾—ã—ã¾ã™ã€‚
const spNav = document.getElementById('sp-nav');

// ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸæ™‚ã®å‹•ä½œã‚’è¨­å®šã—ã¾ã™ã€‚
hamburger.addEventListener('click', () => {
    // ãƒœã‚¿ãƒ³ã« 'is-active' ã‚¯ãƒ©ã‚¹ã‚’ä»˜ã‘ãŸã‚Šå¤–ã—ãŸã‚Šã—ã¾ã™ã€‚(CSSã§è¦‹ãŸç›®ã‚’å¤‰æ›´ã™ã‚‹ãŸã‚)
    hamburger.classList.toggle('is-active');
    // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã« 'is-active' ã‚¯ãƒ©ã‚¹ã‚’ä»˜ã‘ãŸã‚Šå¤–ã—ãŸã‚Šã—ã¾ã™ã€‚(CSSã§è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ãŸã‚)
    spNav.classList.toggle('is-active');
});


// --- ã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã®è¡¨ç¤ºæ©Ÿèƒ½ ---

// ãƒšãƒ¼ã‚¸ã®ã™ã¹ã¦ã®è¦ç´ ï¼ˆç”»åƒãªã©ï¼‰ãŒèª­ã¿è¾¼ã¾ã‚ŒãŸå¾Œã«å®Ÿè¡Œã—ã¾ã™ã€‚
window.addEventListener('load', () => {
    // HTMLã‹ã‚‰ã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã®è¦ç´ ã‚’å–å¾—ã—ã¾ã™ã€‚
    const splashScreen = document.getElementById('splash-screen');

    // 2ç§’å¾Œï¼ˆ2000ãƒŸãƒªç§’å¾Œï¼‰ã«å®Ÿè¡Œã™ã‚‹å‡¦ç†ã‚’è¨­å®šã—ã¾ã™ã€‚
    setTimeout(() => {
        // ã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚’é€æ˜ã«ã™ã‚‹ï¼ˆãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆé–‹å§‹ï¼‰
        splashScreen.style.opacity = '0';
    }, 2000);

    // 2.5ç§’å¾Œï¼ˆ2500ãƒŸãƒªç§’å¾Œï¼‰ã«å®Ÿè¡Œã™ã‚‹å‡¦ç†ã‚’è¨­å®šã—ã¾ã™ã€‚
    setTimeout(() => {
        // ã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã« 'is-hidden' ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã—ã¦ã€å®Œå…¨ã«éè¡¨ç¤ºã«ã—ã¾ã™ã€‚
        // ã“ã‚Œã«ã‚ˆã‚Šã€ä¸‹ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒã‚¯ãƒªãƒƒã‚¯ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
        splashScreen.classList.add('is-hidden');
    }, 2500);
});

// --- æ¯ã‚Œè‘‰ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ç”Ÿæˆæ©Ÿèƒ½ ---

// HTMLã®æ§‹é€ ãŒèª­ã¿è¾¼ã¾ã‚ŒãŸç›´å¾Œã«å®Ÿè¡Œã—ã¾ã™ã€‚
document.addEventListener('DOMContentLoaded', () => {
    // æ¯ã‚Œè‘‰ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ã‚³ãƒ³ãƒ†ãƒŠè¦ç´ ã‚’å–å¾—ã—ã¾ã™ã€‚
    const leavesContainer = document.getElementById('falling-leaves');
    
    // ã‚³ãƒ³ãƒ†ãƒŠè¦ç´ ãŒå­˜åœ¨ã™ã‚‹å ´åˆã®ã¿ã€ä»¥ä¸‹ã®å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
    if (leavesContainer) {
        // ç”»é¢ã«è¡¨ç¤ºã™ã‚‹è‘‰ã®æ•°ã‚’è¨­å®šã—ã¾ã™ã€‚
        const numberOfLeaves = 20; 

        // è¨­å®šã—ãŸæ•°ã ã‘ã€è‘‰ã‚’ç”Ÿæˆã™ã‚‹å‡¦ç†ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚
        for (let i = 0; i < numberOfLeaves; i++) {
            // æ–°ã—ã„divè¦ç´ ï¼ˆã“ã‚ŒãŒ1æšã®è‘‰ã«ãªã‚‹ï¼‰ã‚’ä½œæˆã—ã¾ã™ã€‚
            const leaf = document.createElement('div');
            // ä½œæˆã—ãŸdivè¦ç´ ã« 'leaf' ã¨ã„ã†ã‚¯ãƒ©ã‚¹åã‚’è¨­å®šã—ã¾ã™ã€‚(CSSã§ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã™ã‚‹ãŸã‚)
            leaf.className = 'leaf';
            
            // è‘‰ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«è¨­å®šã—ã¦ã„ãã¾ã™ã€‚
            
            // ç”»é¢ã®å·¦ç«¯ã‹ã‚‰ã®ä½ç½®ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«è¨­å®šã—ã¾ã™ã€‚(0% ~ 100%)
            leaf.style.left = `${Math.random() * 100}vw`;
            
            // è‘‰ãŒè½ã¡ãã‚‹ã¾ã§ã®æ™‚é–“ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«è¨­å®šã—ã¾ã™ã€‚(8ç§’ ~ 13ç§’)
            leaf.style.animationDuration = `${Math.random() * 5 + 8}s`;
            
            // è‘‰ãŒè½ã¡å§‹ã‚ã‚‹ã¾ã§ã®é…å»¶æ™‚é–“ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«è¨­å®šã—ã¾ã™ã€‚(0ç§’ ~ 5ç§’)
            leaf.style.animationDelay = `${Math.random() * 5}s`;
            
            // è‘‰ã®å¤§ãã•ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«è¨­å®šã—ã¾ã™ã€‚
            leaf.style.fontSize = `${Math.random() * 1 + 1}rem`;
            
            // è‘‰ã®ç¨®é¡ï¼ˆçµµæ–‡å­—ï¼‰ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«è¨­å®šã—ã¾ã™ã€‚ï¼ˆã‚‚ã¿ã˜ or æ¯ã‚Œè‘‰ï¼‰
            leaf.innerHTML = Math.random() > 0.5 ? 'ğŸ' : 'ğŸ‚';

            // è‘‰ã®è‰²ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«è¨­å®šã—ã¾ã™ã€‚
            const colors = ['#d4a24e', '#a45c26', '#d47b3b'];
            leaf.style.color = colors[Math.floor(Math.random() * colors.length)];
            
            // è¨­å®šãŒå®Œäº†ã—ãŸè‘‰ã‚’ã€ã‚³ãƒ³ãƒ†ãƒŠè¦ç´ ã®ä¸­ã«è¿½åŠ ã—ã¾ã™ã€‚
            leavesContainer.appendChild(leaf);
        }
    }
});

